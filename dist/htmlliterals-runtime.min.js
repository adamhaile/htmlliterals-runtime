!function(e){var t={},n="Html";e(function(e,n,o){if(t.hasOwnProperty(e))throw new Error("define: cannot redefine module "+e);t[e]=o.apply(null,n.map(function(n){if(!t.hasOwnProperty(n))throw new Error("define: module "+n+" required by "+e+" has not been defined.");return t[n]}))}),"object"==typeof module&&"object"==typeof module.exports?module.exports=t[n]:"function"==typeof define?define([],function(){return t[n]}):this[n]=t[n]}(function(e){"use strict";e("domlib",[],function(){function e(){var e=document.createElement("div");return e.innerHTML='<div contentEditable="true"></div>',e.children[0].isContentEditable===!0}function t(){n.isContentEditable=function(e){var t=e.getAttribute("contentEditable");return"true"===t||""===t}}var n={addEventListener:function(e,t,n){e.addEventListener(t,n,!1)},removeEventListener:function(e,t,n){e.removeEventListener(t,n)},classListContains:function(e,t){return e.classList.contains(t)},classListAdd:function(e,t){return e.classList.add(t)},classListRemove:function(e,t){return e.classList.remove(t)},isContentEditable:function(e){return e.isContentEditable},isAttachedToDocument:function(e){return 0===(1&document.compareDocumentPosition(e))}};return e()||t(),n}),e("Html",["domlib"],function(e){return{exec:function(e){e()},cleanup:function(){},domlib:e}}),e("Html.insert",["Html"],function(e){var t=3;e.insert=function n(o,r){function i(e){for(var n=0,r=e.length;r>n;n++){var s=e[n];c===o.end?s instanceof Node?c=o.end=c.nextSibling?a.insertBefore(s,c.nextSibling):a.appendChild(s):s instanceof Array?i(s):null!==s&&void 0!==s&&(s=document.createTextNode(s.toString()),c=o.end=c.nextSibling?a.insertBefore(s,c.nextSibling):a.appendChild(s)):s instanceof Node?(l!==s?null===c?(a.replaceChild(s,l),o.start=s,o.end===l&&(o.end=s),l=s.nextSibling):l.nextSibling===s&&l!==s.nextSibling&&l!==o.end?(a.removeChild(l),l=s.nextSibling):a.insertBefore(s,l):l=l.nextSibling,c=s):s instanceof Array?i(s):null!==s&&void 0!==s&&(s=s.toString(),l.nodeType===t?(l.data=s,null===c&&(o.start=l),c=l,l=c.nextSibling):(s=document.createTextNode(s),a.insertBefore(s,l),null===c&&(o.start=s),c=s))}}var a=o.start.parentNode,l=o.start,c=null,s=typeof r;for("string"===s||"number"===s||"boolean"===s?l.nodeType===t?(l.data=r,c=l):(r=document.createTextNode(r),a.replaceChild(r,l),o.end===l&&(o.end=r),o.start=c=r):r instanceof Node?(l!==r&&(a.replaceChild(r,l),o.end===l&&(o.end=r),o.start=r),c=r):r instanceof Array?i(r):r instanceof Function?(e.exec(function(){n(o,r())}),c=o.end):null!==r&&void 0!==r&&(r=r.toString(),l.nodeType===t?(l.data=r,c=l):(r=document.createTextNode(r),a.replaceChild(r,l),o.end===l&&(o.end=r),o.start=c=r)),null===c&&(o.start===a.firstChild&&o.end===a.lastChild&&o.start!==o.end?(a.textContent="",r=document.createTextNode(""),a.appendChild(r),c=o.start=o.end=r):l.nodeType===t?(l.data="",c=l):(r=document.createTextNode(""),a.replaceChild(r,l),o.end===l&&(o.end=r),o.start=c=r));c!==o.end;)l=o.end,o.end=l.previousSibling,a.removeChild(l);return o}}),e("Html.attr",["Html"],function(e){e.attr=function(e,t){return function(n){n.setAttribute(e,t)}}}),e("Html.class",["Html","domlib"],function(e,t){e.class=function(e,n,o){return arguments.length<3&&(o=n,n=null),function(r,i){if(void 0===r.className)throw new Error("@class can only be applied to an element that accepts class names. \nElement ``"+r+"'' does not. Perhaps you applied it to the wrong node?");if(o===i)return i;var a=t.classListContains(r,e),l=n&&t.classListContains(r,n);return o?(a||t.classListAdd(r,e),n&&l&&t.classListRemove(r,n)):(a&&t.classListRemove(r,e),n&&!l&&t.classListAdd(r,n)),o}}}),e("Html.focus",["Html","domlib"],function(e,t){function n(){a=!1;var e,n,l=0>r?o.textContent.length+r+1:r,c=0>i?o.textContent.length+i+1:i;o.focus(),isNaN(l)||(o.setSelectionRange?o.setSelectionRange(l,c):o.createTextRange?(e=o.createTextRange(),e.moveEnd("character",c),e.moveStart("character",l),e.select()):t.isContentEditable(o)&&o.childNodes.length>0&&(e=document.createRange(),e.setStart(o.childNodes[0],l),e.setEnd(o.childNodes[0],c),n=window.getSelection(),n.removeAllRanges(),n.addRange(e)))}var o=null,r=0/0,i=0/0,a=!1;e.focus=function(e,t,l){return t=arguments.length>1?t:0/0,l=arguments.length>2?l:t,function(c){if(!c.focus)throw new Error("@focus can only be applied to an element that has a .focus() method, like <input>, <select>, <textarea>, etc.");e?(o=c,r=t,i=l,a||window.requestAnimationFrame(n)):c.blur()}}}),e("Html.onkey",["Html","domlib"],function(e,t){e.onkey=function(o,r,i){function a(e){return e.keyCode!==c||s&&!e[s]||i(e),!0}arguments.length<3&&(i=r,r="down");var l=o.toLowerCase().split("-",2),c=n[l[l.length-1]],s=l.length>1?l[0]+"Key":null;if(void 0===c)throw new Error("@Html.onkey: unrecognized key identifier '"+o+"'");if("function"!=typeof i)throw new Error("@Html.onkey: must supply a function to call when the key is entered");return function(n){t.addEventListener(n,"key"+r,a),e.cleanup(n,function(){t.removeEventListener(n,"key"+r,a)})}};var n={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,pause:19,"break":19,capslock:20,esc:27,escape:27,space:32,pageup:33,pagedown:34,end:35,home:36,leftarrow:37,uparrow:38,rightarrow:39,downarrow:40,prntscrn:44,insert:45,"delete":46,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,winkey:91,winmenu:93,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,numlock:144,scrolllock:145,",":188,"<":188,".":190,">":190,"/":191,"?":191,"`":192,"~":192,"[":219,"{":219,"\\":220,"|":220,"]":221,"}":221,"'":222,'"':222}})});